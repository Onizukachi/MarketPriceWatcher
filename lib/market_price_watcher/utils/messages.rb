module MarketPriceWatcher
  module Messages
    class << self
      def [](key)
        messages[key] || raise("Message #{key} not found")
      end

      def messages
        {
          goodbye: -> { '–ù–∞–¥–µ—é—Å—å —Ç—ã –µ—â–µ –≤–µ—Ä–Ω–µ—à—å—Å—è :)' },

          request_url: lambda {
            '–ü—Ä–∏—à–ª–∏—Ç–µ –º–Ω–µ URL –∞–¥—Ä–µ—Å —Ç–æ–≤–∞—Ä–∞, —Ü–µ–Ω—É –∫–æ—Ç–æ—Ä–æ–≥–æ —Ö–æ—Ç–∏—Ç–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å, –ª–∏–±–æ –≤—ã–±–µ—Ä–∏—Ç–µ –æ–¥–Ω—É –∏–∑ –æ–ø—Ü–∏–π –º–µ–Ω—é üëáüèº'
          },

          already_tracked_product: lambda do |id|
            "üîÖ –¢–æ–≤–∞—Ä —Å –∞—Ä—Ç–∏–∫—É–ª–æ–º #{id} –ø—Ä–æ–ø—É—â–µ–Ω, —Ç–∞–∫ –∫–∞–∫ –¥–æ–±–∞–≤–ª—è–ª—Å—è –≤ —Å–ø–∏—Å–æ–∫ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —Ä–∞–Ω–µ–µ."
          end,

          show_product: lambda do |title, source_url, price, created_at, index|
            <<~TEXT
              #{index}. [#{title}](#{source_url})
              –¢–µ–∫—É—â–∞—è —Ü–µ–Ω–∞: #{MarketPriceWatcher::Utils::PriceFormatter.format(price)}
              –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –Ω–∞—á–∞—Ç–æ: #{MarketPriceWatcher::Utils::DaysUntilToday.call(created_at)} –¥–Ω—è(–µ–π) –Ω–∞–∑–∞–¥
            TEXT
          end,

          add_product: lambda do
            <<~TEXT
              üíª –ù–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä–µ: –ø—Ä–∏—à–ª–∏—Ç–µ —Å—Å—ã–ª–∫—É –Ω–∞ —Ç–æ–≤–∞—Ä, —Ü–µ–Ω—É –∫–æ—Ç–æ—Ä–æ–≥–æ —Ö–æ—Ç–∏—Ç–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å.
              üì± –ù–∞ –º–æ–±–∏–ª—å–Ω–æ–º: –∫–ª–∏–∫–Ω–∏—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ –∏–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –º–∞–≥–∞–∑–∏–Ω–∞ "–ü–æ–¥–µ–ª–∏—Ç—å—Å—è", –≤—ã–±–µ—Ä–∏—Ç–µ Telegram –∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ —Å–æ —Å—Å—ã–ª–∫–æ–π –Ω–∞ —Ç–æ–≤–∞—Ä –±–æ—Ç—É.
              ‚ÑπÔ∏è –ö–∞–∂–¥—ã–π —Ä–∞–∑ –Ω–∞–∂–∏–º–∞—Ç—å –¥–∞–Ω–Ω—É—é –∫–Ω–æ–ø–∫—É –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–∞ —Å–æ–≤—Å–µ–º –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ, –ø—Ä–æ—Å—Ç–æ –ø—Ä–∏—Å—ã–ª–∞–π—Ç–µ —Å—Å—ã–ª–∫—É –∏–ª–∏ –¥–µ–ª–∏—Ç–µ—Å—å —Å—Å—ã–ª–∫–æ–π –∏–∑ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
            TEXT
          end,

          start_tracking: lambda do |title, source_url, price|
            <<-TEXT.gsub(/^\s+/, '')
              üé¨ –ù–∞—á–∞—Ç –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ü–µ–Ω—ã –∏ –Ω–∞–ª–∏—á–∏—è
              [#{title}](#{source_url})
              –¢–µ–∫—É—â–∞—è —Ü–µ–Ω–∞: #{MarketPriceWatcher::PriceFormatter.format(price)}
            TEXT
          end,

          price_change: lambda do |title, source_url, new_price, prev_price, max_price, min_price, created_at|
            difference = new_price - prev_price
            percent_change = ((new_price - prev_price) / prev_price) * 100
            emoji = difference.positive? ? '‚ÜóÔ∏è‚ÜóÔ∏è‚ÜóÔ∏è' : '‚ÜòÔ∏è‚ÜòÔ∏è‚ÜòÔ∏è'
            up_or_down = difference.positive? ? '—É–≤–µ–ª–∏—á–∏–ª–∞—Å—å' : '—É–º–µ–Ω—å—à–∏–ª–∞—Å—å'
            format_price = ->(price) { MarketPriceWatcher::PriceFormatter.format(price) }

            <<-TEXT.gsub(/^\s+/, '')
              #{emoji} –¶–µ–Ω–∞ #{up_or_down} –Ω–∞ #{format_price.call(difference)} (#{format('%.2f%%', percent_change)})
              [#{title}](#{source_url})

              –¶–µ–Ω–∞: #{format_price.call(new_price)} (–±—ã–ª–æ: #{format_price.call(prev_price)})

              –ú–∏–Ω. —Ü–µ–Ω–∞: #{format_price.call(min_price)}
              –ú–∞–∫—Å. —Ü–µ–Ω–∞: #{format_price.call(max_price)}
              –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –Ω–∞—á–∞—Ç–æ: #{MarketPriceWatcher::Utils::DaysUntilToday.call(created_at)} –¥–Ω—è(–µ–π) –Ω–∞–∑–∞–¥
            TEXT
          end,

          help: lambda do
            <<~TEXT
              ‚ùì –ë–æ—Ç –ø–ª–∞—Ç–Ω—ã–π?
              ‚û°Ô∏è –ë–æ—Ç –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π –¥–ª—è –≤—Å–µ—Ö.

              ‚ùì –í –∫–∞–∫–∏—Ö –º–∞–≥–∞–∑–∏–Ω–∞—Ö –º–æ–∂–Ω–æ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –Ω–∞–ª–∏—á–∏–µ –∏ —Ü–µ–Ω—ã?
              ‚û°Ô∏è –ù–∞ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è ozon –∏ wildberris.

              ‚ùì –ë–æ—Ç –º–æ–Ω–∏—Ç–æ—Ä–∏—Ç —Ü–µ–Ω—ã –Ω–∞ —Ç–æ–≤–∞—Ä—ã —Ç–æ–ª—å–∫–æ –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º —Å–∞–π—Ç–µ –ø–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –µ–º—É —Å—Å—ã–ª–∫–µ?
              ‚û°Ô∏è –î–∞, –±–æ—Ç –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç —Ü–µ–Ω—É –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º —Å–∞–π—Ç–µ. –ß—Ç–æ–±—ã –±–æ—Ç —Å–ª–µ–¥–∏–ª –∑–∞ —Ü–µ–Ω–æ–π –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å–∞–π—Ç–∞—Ö, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø—Ä–∏—Å–ª–∞—Ç—å —Å—Å—ã–ª–∫—É –Ω–∞ –∫–∞–∂–¥—ã–π –∏–∑ –Ω–∏—Ö.

              ‚ùì –ï—Å—Ç—å –ª–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –Ω–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤?
              ‚û°Ô∏è –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –µ—Å—Ç—å, –Ω–æ –∏—Ö —Å–ª–æ–∂–Ω–æ –ø—Ä–µ–≤—ã—Å–∏—Ç—å, –µ—Å–ª–∏ –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –±–æ—Ç –≤ –ª–∏—á–Ω—ã—Ö, –∞ –Ω–µ –∫–æ–º–º–µ—Ä—á–µ—Å–∫–∏—Ö —Ü–µ–ª—è—Ö.

              ‚ùì –ú–Ω–µ –∫–∞–∂–µ—Ç—Å—è, —á—Ç–æ –±–æ—Ç –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏–ª —Ü–µ–Ω—É –∏–ª–∏ –Ω–∞–ª–∏—á–∏–µ —Ç–æ–≤–∞—Ä–∞.
              ‚û°Ô∏è –¢—É—Ç –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–∏—á–∏–Ω.
              1. –í –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –º–∞–≥–∞–∑–∏–Ω–∞—Ö —Ü–µ–Ω–∞ –∏ –Ω–∞–ª–∏—á–∏–µ –º–æ–≥—É—Ç –º–µ–Ω—è—Ç—å—Å—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –≥–æ—Ä–æ–¥–∞. –ë–æ—Ç –º–æ–∂–µ—Ç —É–≤–∏–¥–µ—Ç—å —Ü–µ–Ω—É –≤ –æ–¥–Ω–æ–º –≥–æ—Ä–æ–¥–µ, –∞ –≤—ã - –≤ –¥—Ä—É–≥–æ–º.
              2. –û—Å–æ–±–æ –¥–µ—Ñ–∏—Ü–∏—Ç–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã –º–æ–≥—É—Ç –∏—Å—á–µ–∑–Ω—É—Ç—å –±—ã—Å—Ç—Ä–µ–µ, —á–µ–º –≤—ã –ø–µ—Ä–µ—à–ª–∏ –ø–æ —Å—Å—ã–ª–∫–µ. –ù–∞–ø—Ä–∏–º–µ—Ä, –≤—ã –ø—Ä–æ—á–∏—Ç–∞–ª–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ –±–æ—Ç–∞ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø–æ–∑–¥–Ω–æ. –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ —Å —Ü–µ–Ω–æ–π - –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –º–∞–≥–∞–∑–∏–Ω—ã –¥–µ–ª–∞—é—Ç —Å–∫–∏–¥–∫—É –Ω–∞ —á–∞—Å, –∞ –ø–æ—Ç–æ–º —Ü–µ–Ω–∞ —Å–Ω–æ–≤–∞ –º–µ–Ω—è–µ—Ç—Å—è. –¢–∞–∫ –∫–∞–∫ –±–æ—Ç —É–∑–Ω–∞–µ—Ç –æ–± –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ü–µ–Ω—ã –∏ –Ω–∞–ª–∏—á–∏—è —Å –Ω–µ–∫–æ—Ç–æ—Ä–æ–π –∑–∞–¥–µ—Ä–∂–∫–æ–π, –æ–Ω –º–æ–≥ –Ω–µ —É—Å–ø–µ—Ç—å –æ–ø–æ–≤–µ—Å—Ç–∏—Ç—å –≤–∞—Å –æ –ø–æ—Å–ª–µ–¥–Ω–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏–∏.
              3. –ï—Å–ª–∏ –≤—ã –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω—ã, –º–∞–≥–∞–∑–∏–Ω –º–æ–∂–µ—Ç –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –≤–∞–º —Ü–µ–Ω—ã —Å –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–æ–π —Å–∫–∏–¥–∫–æ–π. –ë–æ—Ç –æ –≤–∞—à–µ–π –ª–∏—á–Ω–æ–π —Å–∫–∏–¥–∫–µ –Ω–∏—á–µ–≥–æ –Ω–µ –∑–Ω–∞–µ—Ç –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –±–∞–∑–æ–≤—É—é —Ü–µ–Ω—É.
              4. –¢–∞–∫–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ç–æ–≤–∞—Ä–æ–≤, –∫–∞–∫ –æ–¥–µ–∂–¥–∞ –∏ –æ–±—É–≤—å, –Ω–µ –≤—Å–µ–≥–¥–∞ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—é—Ç—Å—è –ø–æ —Ü–≤–µ—Ç—É –∏ —Ä–∞–∑–º–µ—Ä—É. –ü–µ—Ä–µ—Ö–æ–¥—è –ø–æ —Å—Å—ã–ª–∫–µ –º–æ–∂–µ—Ç –æ—Ç–∫–∞–∑–∞—Ç—å—Å—è, —á—Ç–æ —Å–∫–∏–¥–∫–∞ –µ—Å—Ç—å —Ç–æ–ª—å–∫–æ –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ä–∞–∑–º–µ—Ä –∏–ª–∏ —Ü–≤–µ—Ç.
              5. –î–∞–∂–µ –±–æ—Ç –º–æ–∂–µ—Ç –æ—à–∏–±–∞—Ç—å—Å—è.

              ‚ùì –ö–∞–∫ —á–∞—Å—Ç–æ –±–æ—Ç –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ü–µ–Ω—ã –Ω–∞ —Å–∞–π—Ç–∞—Ö?
              ‚û°Ô∏è –í —Å—Ä–µ–¥–Ω–µ–º —Ä–∞–∑ –≤ —Ç—Ä–∏ —á–∞—Å–∞. –ë–æ—Ç –Ω–µ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –Ω–∞–ª–∏—á–∏—è –¥–µ—Ñ–∏—Ü–∏—Ç–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤ —Å —Ü–µ–ª—å—é –∏—Ö –ø–æ–∫—É–ø–∫–∏ –∏ –¥–∞–ª—å–Ω–µ–π—à–µ–π –ø–µ—Ä–µ–ø—Ä–æ–¥–∞–∂–∏. –î–ª—è —Ç–∞–∫–∏—Ö –∑–∞–¥–∞—á —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –±–æ—Ç—ã.
            TEXT
          end
        }
      end
    end
  end
end
