exit
fdsds
size["price"]["product"]
size["price"]
size["price
size = product["sizes"].find { |row| row["optionId"] == url_params[:size]  }
product["sizes"].find { |row| row["optionId"] == url_params[:size]  }
product["sizes"].find { |row| row["optionId"] == 1232132  }
product["sizes"]
product
product[:sizes]
url_params[:size]
  product = body["data"]["products"].find { |row| row["id"] == url_params[:id]  }
body
exit
result
 result.merge(size: size.to_i) if size
size = extract_size(url)
result.merge(id: id.to_i) if id
id = extract_id(url)
url
exit
@url_params
url
body
exit
body
exit
body
exit
body
exit
product["sizes"]
x[/(?<=sizes=)\d+/].to_i
x[/(?<=sizes=)\d+/]
x[/(?<=size=)\d+/]
x = "https://www.wildberries.ru/catalog/43211731/detail.aspx?size=86140206"
product["sizes"]
product["sizes"].size
product["sizes"]
product["price"]
product["name"]
product
product["totalQuantity"]
        product = body["data"]["products"].find { |row| row["id"] == id  }
products.find  { |product| product["id"] == id  }        product = body["data"]["products"].find { |row| row["id"] == id  }
products.find  { |product| product["id"] == id  }
products = body["data"]["products"]
id
body["data"]["products"]
body["
body["data"]["totalQuantity"]
body["data]["totalQuantity"]
body["totalQuantity"]
body
  body = JSON.parse(response.body)
JSON.parse body
body = response.body
response.body
response
product.body
response
exit
"https://www.wildberries.ru/catalog/264939972/detail.aspx?targetUrl=SG"[/(?<=catalog\/)\d+(?=\/)/]
"https://www.wildberries.ru/catalog/264939972/detail.aspx?targetUrl=SG"[/(?<=catalog\/)\d+/]
"https://www.wildberries.ru/catalog/264939972/detail.aspx?targetUrl=SG"[/(?<=catalog\/)\d/]
"https://www.wildberries.ru/catalog/264939972/detail.aspx?targetUrl=SG"[/(?<=catalog)\/\d/]
"https://www.wildberries.ru/catalog/264939972/detail.aspx?targetUrl=SG"[/(?=catalog)\/\d/]
"https://www.wildberries.ru/catalog/264939972/detail.aspx?targetUrl=SG"[/catalog\/\d/]
message.text
exit
message.text
exit
storage.list_products(1)
exit
учше
storage.list_products(1)
exit
storage.list_products(1)
exit
MarketPriceWatcher::Storages::SqliteDB.new
MarketPriceWatcher::Storages::SqliteDB
exit
MarketPriceWatcher
MarketPriceWatcher::Storages
exit
message.text
exit
 message.text
exit
exiy
 message.text
exit
 message.text
message.from.id
 message.chat
message.methods
message
message.text
exit
message.text
message
message.from.id
message.from
message
client
exit
proxy[:uri].password
proxy[:uri].user
proxy[:uri].host
proxy[:uri].port
proxy[:uri][:scheme]
proxy[:uri]
proxy[:schema]
proxy[:scheme]
proxy[:user]
proxy.uri
proxy
exit
response.body
exit
response.body
exit
response.body
exit
res.body
exit
page_text = doc.text.strip
exit
page_text = doc.text.strip
doc
exit
page_text = doc.text.strip
exit
doc.css('.price-block__final-price')
exit
doc.css('.price-block__final-price')
doc
